<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<article class="left-category">
	<nav>
		<ul class="category-menu">
				<li class="main-category ct100"><a href="${cpath }/books/category/100?str=소설">소설</a>
					<ul class="sub-category">
						<li class="cl100"><a href="${cpath }/books/category/100?str=소설">소설 전체</a></li>
						<li class="cl100010010"><a href="${cpath }/books/category/100010010?str=한국">한국소설</a></li>
						<li class="cl100010020"><a href="${cpath }/books/category/100010020?str=영미">영미소설</a></li>
						<li class="cl100010030"><a href="${cpath }/books/category/100010030?str=일본">일본소설</a></li>
						<li class="cl100010040"><a href="${cpath }/books/category/100010040?str=중국">중국소설</a></li>
						<li class="cl100010050"><a href="${cpath }/books/category/100010050?str=러시아">러시아소설</a></li>
						<li class="cl100010060"><a href="${cpath }/books/category/100010060?str=프랑스">프랑스소설</a></li>
						<li class="cl100010070"><a href="${cpath }/books/category/100010070?str=독일">독일소설</a></li>
						<li class="cl100010080"><a href="${cpath }/books/category/100010080?str=기타" >기타국가소설</a></li>
					</ul>
				</li>
				<li class="main-category ct160"><a href="${cpath }/books/category/160?str=경영">경영/경제</a>
					<ul class="sub-category" >
						<li class="cl160"><a href="${cpath }/books/category/160?str=경영"">경영일반</a></li>
						<li class="cl160010"><a href="${cpath }/books/category/160010?str=경제"">경제일반</a></li>
						<li class="cl160030"><a href="${cpath }/books/category/160030?str=마케팅">마케팅/세일즈</a></li>
						<li class="cl160040"><a href="${cpath }/books/category/160040?str=재테크">재테크/금융/부동산</a></li>
						<li class="cl160050"><a href="${cpath }/books/category/160050?str=창업">창업</a></li>
					</ul>
				</li>
				<li class="main-category ct180"><a href="${cpath }/books/category/180?str=사회">사회</a>
					<ul class="sub-category" >
						<li class="cl180"><a href="${cpath }/books/category/180010?str=정치">사회 전체</a></li>
						<li class="cl180010"><a href="${cpath }/books/category/180010?str=정치">정치</a></li>
						<li class="cl180020"><a href="${cpath }/books/category/180020?str=행정">행정</a></li>
						<li class="cl180030"><a href="${cpath }/books/category/180030?str=경찰">경찰</a></li>
						<li class="cl180040"><a href="${cpath }/books/category/180040?str=법">법</a></li>
						<li class="cl180050"><a href="${cpath }/books/category/180050?str=사회학">사회학</a></li>
					</ul>
				</li>
				<li class="main-category ct170"><a href="${cpath }/books/category/170?str=자기계발">자기계발</a>
					<ul class="sub-category" >
						<li class="cl170"><a href="${cpath }/books/category/170?str=자기계발">자기계발 전체</a></li>
						<li class="cl170010"><a href="${cpath }/books/category/170010?str=성공">성공/처세</a></li>
						<li class="cl170020"><a href="${cpath }/books/category/170020?str=시간관리">시간관리</a></li>
						<li class="cl170030"><a href="${cpath }/books/category/170030?str=자기능력계발">자기능력계발</a></li>
						<li class="cl170040"><a href="${cpath }/books/category/170040?str=인간관계">인간관계</a></li>
						<li class="cl170050"><a href="${cpath }/books/category/170050?str=대화">대화/협상</a></li>
					</ul>
				</li>
				
				<li class="main-category ct230"><a href="${cpath }/books/category/230?str=언어">국어/외국어</a>
					<ul class="sub-category" >
						<li class="cl230"><a href="${cpath }/books/category/230?str=언어">국어/외국어 전체</a></li>
						<li class="cl230010"><a href="${cpath }/books/category/230010?str=국어">국어</a></li> 
						<li class="cl230020"><a href="${cpath }/books/category/230020?str=영어">영어</a></li>
						<li class="cl230030"><a href="${cpath }/books/category/230030?str=일본어">일본어</a></li>
						<li class="cl230040"><a href="${cpath }/books/category/230040?str=중국어">중국어</a></li>
						<li class="cl230050"><a href="${cpath }/books/category/230050?str=외국어">기타외국어</a></li>
					</ul>
				</li>
				<li class="main-category ct250"><a href="${cpath }/books/category/250?str=과학">과학</a>
					<ul class="sub-category" >
						<li class="cl250"><a href="${cpath }/books/category/250?str=과학">과학 전체</a></li>
						<li class="cl250020"><a href="${cpath }/books/category/250020?str=과학">과학일반</a></li>
						<li class="cl250030"><a href="${cpath }/books/category/250030?str=수학">수학</a></li>
						<li class="cl250070"><a href="${cpath }/books/category/250070?str=자연과학">자연과학</a></li>
						<li class="cl250100"><a href="${cpath }/books/category/250100?str=응용과학">응용과학</a></li>
					</ul>
				</li>			
				<li class="main-category ct280"><a href="${cpath }/books/category/280?str=컴퓨터">컴퓨터/IT</a>
					<ul class="sub-category" >
						<li class="cl280"><a href="${cpath }/books/category/280?str=컴퓨터">컴퓨터 전체</a></li>
						<li class="cl280010"><a href="${cpath }/books/category/280010?str=웹">웹/컴퓨터입문/활용</a></li>
						<li class="cl280020"><a href="${cpath }/books/category/280020?str=IT">IT 전문서</a></li>
						<li class="cl280030"><a href="${cpath }/books/category/280030?str=그래픽">그래픽/멀티미디어</a></li>
						<li class="cl280040"><a href="${cpath }/books/category/280040?str=오피스">오피스활용도서</a></li>
						<li class="cl280050"><a href="${cpath }/books/category/280050?str=컴퓨터">컴퓨터수험서</a></li>
					</ul>
				</li>
				<li class="main-category ct110"><a href="${cpath }/books/category/110?str=에세이 시">에세이/시</a>
					<ul class="sub-category" >
						<li class="cl110"><a href="${cpath }/books/category/110?str=에세이 시">에세이/시 전체</a></li>
						<li class="cl110030"><a href="${cpath }/books/category/110030?str=에세이">인물에세이</a></li>
						<li class="cl110060"><a href="${cpath }/books/category/110060?str=에세이">독서에세이</a></li>
						<li class="cl110070"><a href="${cpath }/books/category/110070?str=에세이">명상에세이</a></li>
						<li class="cl110010"><a href="${cpath }/books/category/110010?str=시">한국시</a></li>
						<li class="cl110020"><a href="${cpath }/books/category/110020?str=시">외국시</a></li>
					</ul>
				</li>
				<li class="main-category ct270"><a href="${cpath }/books/category/270?str=여행">여행</a>
					<ul class="sub-category" >
						<li class="cl270"><a href="${cpath }/books/category/270?str=여행">여행 전체</a></li>
						<li class="cl270010"><a href="${cpath }/books/category/270010?str=국내여행">국내여행</a></li>
						<li class="cl270020"><a href="${cpath }/books/category/270020?str=해외여행">해외여행</a></li>
					</ul>
				</li>
				<li class="main-category ct200"><a href="${cpath }/books/category/200?str=종교">종교</a>
					<ul class="sub-category" >
						<li class="cl200"><a href="${cpath }/books/category/200?str=종교">종교 전체</a></li>
						<li class="cl200010"><a href="${cpath }/books/category/200010?str=종교일반">종교일반</a></li>
						<li class="cl200020"><a href="${cpath }/books/category/200020?str=기독교">기독교</a></li>
						<li class="cl200030"><a href="${cpath }/books/category/200030?str=가톨릭">가톨릭</a></li>
						<li class="cl200040"><a href="${cpath }/books/category/200040?str=불교">불교</a></li>
						<li class="cl200050"><a href="${cpath }/books/category/200050?str=기타">기타</a></li>
					</ul>
				</li>
				<li class="main-category ct100030"><a href="${cpath }/books/category/100030?str=장르">장르소설</a>
					<ul class="sub-category" >
						<li class="cl100030"><a href="${cpath }/books/category/100030?str=장르">장르 전체</a></li>
						<li class="cl100030010"><a href="${cpath }/books/category/100030010?str=판타지">판타지</a></li>
						<li class="cl100030030"><a href="${cpath }/books/category/100030030?str=역사">역사</a></li>
						<li class="cl100030040"><a href="${cpath }/books/category/100030040?str=로맨스">로맨스</a></li>
						<li class="cl100030020"><a href="${cpath }/books/category/100030020?str=추리">추리</a></li>
						<li class="cl100030060"><a href="${cpath }/books/category/100030060?str=공포">공포/스릴러</a></li>
					</ul>
				</li>
				<li class="main-category ct100040"><a href="${cpath }/books/category/100040?str=테마">테마소설</a>
					<ul class="sub-category" >
						<li class="cl100040"><a href="${cpath }/books/category/100040?str=테마">테마 전체</a></li>
						<li class="cl100040010"><a href="${cpath }/books/category/100040010?str=소설">인터넷소설</a></li>
						<li class="cl100040020"><a href="${cpath }/books/category/100040020?str=드라마">드라마소설</a></li>
						<li class="cl100040030"><a href="${cpath }/books/category/100040030?str=성장소설">성장소설</a></li>
						<li class="cl100040040"><a href="${cpath }/books/category/100040040?str=동화">어른을 위한 동화</a></li>
						<li class="cl100040050"><a href="${cpath }/books/category/100040050?str=노벨">라이트 노벨</a></li>
					</ul>
				</li>
				<li class="main-category ct330"><a href="${cpath }/books/category/330?str=만화">만화</a>
					<ul class="sub-category" >
						<li class="cl330"><a href="${cpath }/books/category/330?str=만화">만화 전체</a></li>
						<li class="cl330040"><a href="${cpath }/books/category/330040?str=순정">순정</a></li>
						<li class="cl330020"><a href="${cpath }/books/category/330020?str=드라마">드라마</a></li>
						<li class="cl330030"><a href="${cpath }/books/category/330030?str=성인">성인</a></li>
						<li class="cl330070"><a href="${cpath }/books/category/330070?str=무협">무협</a></li>
						<li class="cl330100"><a href="${cpath }/books/category/330100?str=학원">학원</a></li>
						<li class="cl330060"><a href="${cpath }/books/category/330060?str=판타지">판타지/SF</a></li>
						<li class="cl330050"><a href="${cpath }/books/category/330050?str=스포츠">스포츠</a></li>
						<li class="cl330090"><a href="${cpath }/books/category/330090?str=공포">공포</a></li>
					</ul>
				</li>
				<li class="main-category ct330110"><a href="${cpath }/books/category/330110?str=웹툰">웹툰</a>
					<ul class="sub-category" >
						<li class="cl330110"><a href="${cpath }/books/category/330110?str=웹툰">웹툰 전체</a></li>
					</ul>
				</li>
				<li class="main-category ct130050"><a href="${cpath }/books/category/130050?str=요리">요리</a>
					<ul class="sub-category" >
						<li class="cl130050"><a href="${cpath }/books/category/130050?str=요리">요리 전체</a></li>
						<li class="cl130050020"><a href="${cpath }/books/category/130050020?str=다이어트 건강">다이어트/건강</a></li>
						<li class="cl130050010"><a href="${cpath }/books/category/130050010?str=도시락">도시락</a></li>
						<li class="cl130050030"><a href="${cpath }/books/category/130050030?str=한국요리">한국요리</a></li>
						<li class="cl130050040"><a href="${cpath }/books/category/130050040?str=빵 케이크">빵/케이크</a></li>
						<li class="cl130050050"><a href="${cpath }/books/category/130050050?str=차">차</a></li>
					</ul>
				</li>
				<li class="main-category ct150"><a href="${cpath }/books/category/150?str=취미">취미</a>
					<ul class="sub-category" >
						<li class="cl150"><a href="${cpath }/books/category/150?str=취미">취미 전체</a></li>
						<li class="cl150010"><a href="${cpath }/books/category/150010?str=뜨개질">뜨개질</a></li>
						<li class="cl150020"><a href="${cpath }/books/category/150020?str=비즈">비즈</a></li>
						<li class="cl150030"><a href="${cpath }/books/category/150030?str=리본공예">리본공예</a></li>
						<li class="cl150040"><a href="${cpath }/books/category/150040?str=옷만들기">옷만들기</a></li>
						<li class="cl150050"><a href="${cpath }/books/category/150050?str=꽃꽂이">꽃꽂이</a></li>
						<li class="cl150060"><a href="${cpath }/books/category/150060?str=퍼즐">퍼즐</a></li>
						<li class="cl150070"><a href="${cpath }/books/category/150070?str=바둑">바둑</a></li>
						<li class="cl150080"><a href="${cpath }/books/category/150080?str=애완동물">애완동물</a></li>
						<li class="cl150090"><a href="${cpath }/books/category/150090?str=카메라">카메라</a></li>
					</ul>
				</li>
				<li class="main-category ct340"><a href="${cpath }/books/category/340?str=해외">해외도서</a>
					<ul class="sub-category" >
						<li class="cl340"><a href="${cpath }/books/category/340?str=해외">해외 전체</a></li>
						<li class="cl340010"><a href="${cpath }/books/category/340010?str=소설">문학/소설</a></li>
						<li class="cl340020"><a href="${cpath }/books/category/340020?str=교육">교육</a></li>
						<li class="cl340030"><a href="${cpath }/books/category/340030?str=경제">경제</a></li>
						<li class="cl340040"><a href="${cpath }/books/category/340040?str=예술">예술</a></li>
						<li class="cl340050"><a href="${cpath }/books/category/340050?str=IT">IT</a></li>
						<li class="cl340060"><a href="${cpath }/books/category/340130?str=사회">사회</a></li>
						<li class="cl340070"><a href="${cpath }/books/category/340070?str=여행">여행</a></li>
						<li class="cl340100"><a href="${cpath }/books/category/340100?str=심리">심리</a></li>
						<li class="cl340120"><a href="${cpath }/books/category/340120?str=수학">수학</a></li>
					</ul>
				</li>
				
				
			</ul>
	</nav>

<script type="text/javascript">
const ctPath = document.location.href;				// book의 주소 
const ctClickArr = clickPath.split('/');				// 주소를 배열로 저장
const num = ctClickArr[ctClickArr.length-1];		//	 배열의 마지막 -> 분류번호 -> li style적용 등 활용
const linum = num.split('?');									// 하위 메뉴 선택시 위치를 css 적용할 class명 추출하기 위한 변수
let num1 = num.substring(0,6);								// 상위 메뉴에 class명을 적용하기 위한 변수.				원래 const num1 = num.substring(0,3); 했으면 됐음	
																			// (책 대분류 번호가 아예 구분되어있을때는 3자리만 추출하면 되지만, 3자리시 중복되는 대분류 번호로 인해 우선 6자리를 받는다)
// 상위 메뉴 class명 적용 - 6자리 때문에 추가한 코드 시작
if(num1.indexOf('?') != -1)
	num1 = num.substring(0,3);

console.log('submenu : ' + linum[0]);

let ctLi = document.querySelector('.ct'+ num1);		// 주소에 해당되는 목록 
console.log(ctLi);
if(ctLi == null) {
	num1 = num.substring(0,3);
	ctLi = document.querySelector('.ct'+ num1);
}
// 상위 메뉴 class명 적용 - 6자리 때문에 추가한 코드 끝 --- 대분류 번호를 3자리만 할 시엔 필요 없음.

ctLi.classList.add('cateOn');										// (초기화) -> 상위 메뉴 style을 적용할 class 붙여주기

const li = document.querySelectorAll('.main-category');		// 다른 목록을 선택시
li.forEach(li=>li.onclick=function(e){
	e.preventDefault();
	const cateOn = document.querySelector('.cateOn');			// 기존 적용된 목록 있으면 불러오기
	if(cateOn != null){		
		cateOn.classList.remove('cateOn');								// 기존 style 적용 없애기
	}
	e.currentTarget.classList.add('cateOn');							// 선택한 목록에 style 적용
	const path = e.target.href;
	console.log(e.target.href)
	if(path.indexOf('undefined') != -1)	return false;				// 메뉴 클릭시 undefined 일 경우 false 반환, 링크 이동X
	if(e.target.href)
	location.href =e.target.href + '&type=1';							// 해당 주소로 이동(type=1 추가 -> tabMenu)
});

const cateli =  document.querySelector('.cl' + linum[0]);
cateli.classList.add('cateliOn');


</script>
</article>


